"use strict";(()=>{var e={};e.id=7,e.ids=[7],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},79448:(e,t,o)=>{o.r(t),o.d(t,{originalPathname:()=>m,patchFetch:()=>h,requestAsyncStorage:()=>p,routeModule:()=>d,serverHooks:()=>g,staticGenerationAsyncStorage:()=>v});var n={};o.r(n),o.d(n,{GET:()=>c});var r=o(49303),s=o(88716),a=o(60670),i=o(87070),l=o(72331);let u=e=>({id:e,eventType:"WEDDING",location:"New York, NY",date:new Date().toISOString(),budget:25e3,progress:65,user:{fullName:"John Customer",email:"customer@example.com"},vendors:[{id:"v1",businessName:"Perfect Shots Photography",category:"PHOTOGRAPHY",location:"New York, NY",profileImg:"https://images.unsplash.com/photo-1542038784456-1ea8e935640e",agreedPrice:2500,status:"CONFIRMED",service:"Premium Wedding Package"},{id:"v2",businessName:"Delicious Bites Catering",category:"CATERING",location:"New York, NY",profileImg:"https://images.unsplash.com/photo-1555244162-803834f70033",agreedPrice:6e3,status:"PAID",service:"Buffet Style - Standard"},{id:"v3",businessName:"Elite Sound Entertainment",category:"MUSIC",location:"New York, NY",profileImg:"https://images.unsplash.com/photo-1571266028253-6c4c86f9b2b2",agreedPrice:1200,status:"PENDING",service:"Basic DJ Package"}]});async function c(e,{params:t}){try{let{id:e}=t;try{let t;let o=`
        SELECT e.* 
        FROM "Event" e
        WHERE e.id = $1::uuid
      `;console.log(`Fetching event with ID: ${e}`);try{t=await l.Z.$queryRawUnsafe(o,e),console.log("Event query result:",t.length>0?"Found event":"No event found")}catch(t){return console.error("Error fetching event:",t),i.NextResponse.json(u(e))}if(!t||0===t.length)return console.log("No event found, returning mock data"),i.NextResponse.json(u(e));let n=t[0],r={fullname:"Unknown User",email:"unknown@example.com"};try{let e=`
          SELECT u.fullname, u.email
          FROM "User" u
          WHERE u.id = $1::uuid
        `;console.log(`Fetching user with ID: ${n.userid}`);let t=await l.Z.$queryRawUnsafe(e,n.userid);console.log("User query result:",t.length>0?"Found user":"No user found"),t.length>0&&(r=t[0])}catch(e){console.error("Error fetching user:",e)}let s=[];try{let t=`
          SELECT ev.*, v.id as vendor_id, v.businessname, v.category, v.location, v.profileimg, s.title as service_title
          FROM "EventVendor" ev
          JOIN "Vendor" v ON ev.vendorid = v.id
          JOIN "Service" s ON ev.serviceid = s.id
          WHERE ev.eventid = $1::uuid
        `;console.log(`Fetching vendors for event ID: ${e}`),s=await l.Z.$queryRawUnsafe(t,e),console.log(`Found ${s.length} vendors for the event`)}catch(e){console.error("Error fetching vendors:",e)}let a={id:n.id,eventType:n.eventtype||"Unknown Event Type",location:n.location||"Unknown Location",date:n.date?new Date(n.date).toISOString():new Date().toISOString(),budget:n.budget||0,progress:Math.floor(100*Math.random()),user:{fullName:r.fullname||"Unknown User",email:r.email||"unknown@example.com"},vendors:s.map(e=>({id:e.vendor_id,businessName:e.businessname||"Unknown Vendor",category:e.category||"OTHER",location:e.location||"Unknown Location",profileImg:e.profileimg||"https://images.unsplash.com/photo-1542038784456-1ea8e935640e",agreedPrice:e.agreedprice||0,status:e.status||"PENDING",service:e.service_title||"Unknown Service"}))};return i.NextResponse.json(a)}catch(t){return console.error("Database error:",t),i.NextResponse.json(u(e))}}catch(e){return console.error("Error fetching event:",e),i.NextResponse.json({error:"Failed to fetch event"},{status:500})}}let d=new r.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/events/[id]/route",pathname:"/api/events/[id]",filename:"route",bundlePath:"app/api/events/[id]/route"},resolvedPagePath:"C:\\Users\\S\\Downloads\\eveplan\\eveplan\\app\\api\\events\\[id]\\route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:p,staticGenerationAsyncStorage:v,serverHooks:g}=d,m="/api/events/[id]/route";function h(){return(0,a.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:v})}},72331:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(53524);let r=global.prisma||new n.PrismaClient}};var t=require("../../../../webpack-runtime.js");t.C(e);var o=e=>t(t.s=e),n=t.X(0,[276,972],()=>o(79448));module.exports=n})();