(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[907],{735:function(e,s,a){Promise.resolve().then(a.bind(a,2379))},2379:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return c}});var t=a(7437),r=a(2265),l=a(605),n=a(9376),d=a(7648),i=a(6945);function c(){var e,s,a,c;let{data:o,status:x}=(0,l.useSession)(),h=(0,n.useRouter)(),[u,m]=(0,r.useState)(!0),[p,N]=(0,r.useState)([]);(0,r.useEffect)(()=>{"unauthenticated"===x?h.push("/login"):"authenticated"===x&&b()},[x,h]);let b=async()=>{try{N([{id:"1",vendorName:"Elegant Catering",serviceName:"Full Service Catering",eventTitle:"Birthday Party",date:"2023-12-15",price:1200,status:"CONFIRMED"},{id:"2",vendorName:"Premium Photography",serviceName:"Event Photography Package",eventTitle:"Corporate Retreat",date:"2024-02-10",price:800,status:"PENDING"}]),m(!1)}catch(e){console.error("Failed to fetch bookings:",e),m(!1)}};return u?(0,t.jsx)(i.Z,{children:(0,t.jsx)("div",{className:"container mx-auto py-16 px-4",children:(0,t.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})})}):(0,t.jsx)(i.Z,{children:(0,t.jsx)("div",{className:"container mx-auto py-16 px-4",children:(0,t.jsxs)("div",{className:"flex flex-wrap -mx-4",children:[(0,t.jsx)("div",{className:"w-full md:w-1/4 px-4 mb-8",children:(0,t.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)("div",{className:"w-24 h-24 rounded-full bg-gray-200 mx-auto mb-4 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-3xl text-gray-500",children:(null==o?void 0:null===(s=o.user)||void 0===s?void 0:null===(e=s.name)||void 0===e?void 0:e.charAt(0).toUpperCase())||"U"})}),(0,t.jsx)("h2",{className:"text-xl font-semibold",children:(null==o?void 0:null===(a=o.user)||void 0===a?void 0:a.name)||"User"}),(0,t.jsx)("p",{className:"text-gray-600",children:null==o?void 0:null===(c=o.user)||void 0===c?void 0:c.email})]}),(0,t.jsx)("nav",{className:"dashboard-nav",children:(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{className:"mb-1",children:(0,t.jsx)(d.default,{href:"/dashboard",className:"block py-2 px-4 rounded hover:bg-gray-100",children:"Dashboard"})}),(0,t.jsx)("li",{className:"mb-1",children:(0,t.jsx)(d.default,{href:"/dashboard/events",className:"block py-2 px-4 rounded hover:bg-gray-100",children:"My Events"})}),(0,t.jsx)("li",{className:"mb-1",children:(0,t.jsx)(d.default,{href:"/dashboard/bookings",className:"block py-2 px-4 rounded bg-primary text-white",children:"My Bookings"})}),(0,t.jsx)("li",{className:"mb-1",children:(0,t.jsx)(d.default,{href:"/dashboard/profile",className:"block py-2 px-4 rounded hover:bg-gray-100",children:"Profile Settings"})})]})})]})}),(0,t.jsx)("div",{className:"w-full md:w-3/4 px-4",children:(0,t.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-8",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"My Bookings"}),p.length>0?(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full table-auto",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-gray-100",children:[(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Vendor"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Service"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Event"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Date"}),(0,t.jsx)("th",{className:"px-4 py-2 text-right",children:"Price"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Status"}),(0,t.jsx)("th",{className:"px-4 py-2 text-right",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:p.map(e=>(0,t.jsxs)("tr",{className:"border-b",children:[(0,t.jsx)("td",{className:"px-4 py-3",children:e.vendorName}),(0,t.jsx)("td",{className:"px-4 py-3",children:e.serviceName}),(0,t.jsx)("td",{className:"px-4 py-3",children:e.eventTitle}),(0,t.jsx)("td",{className:"px-4 py-3",children:new Date(e.date).toLocaleDateString()}),(0,t.jsxs)("td",{className:"px-4 py-3 text-right",children:["$",e.price.toLocaleString()]}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsx)("span",{className:"inline-block px-2 py-1 rounded-full text-xs ".concat("CONFIRMED"===e.status?"bg-green-100 text-green-800":"PENDING"===e.status?"bg-yellow-100 text-yellow-800":"CANCELLED"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:e.status.charAt(0)+e.status.slice(1).toLowerCase()})}),(0,t.jsx)("td",{className:"px-4 py-3 text-right",children:(0,t.jsx)(d.default,{href:"/dashboard/bookings/".concat(e.id),className:"text-sm text-blue-600 hover:underline",children:"View Details"})})]},e.id))})]})}):(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"You don't have any bookings yet"}),(0,t.jsx)("p",{className:"text-gray-500 mb-6",children:"Browse vendors and book services for your events."}),(0,t.jsx)(d.default,{href:"/vendors",className:"btn btn-primary",children:"Find Vendors"})]})]})})]})})})}},9376:function(e,s,a){"use strict";var t=a(5475);a.o(t,"notFound")&&a.d(s,{notFound:function(){return t.notFound}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(s,{useSearchParams:function(){return t.useSearchParams}})}},function(e){e.O(0,[605,648,945,971,117,744],function(){return e(e.s=735)}),_N_E=e.O()}]);