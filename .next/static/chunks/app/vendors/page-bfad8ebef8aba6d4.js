(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[759],{2766:function(e,a,l){Promise.resolve().then(l.bind(l,6491))},6491:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return h}});var t=l(7437),r=l(2265),s=l(9376),n=l(6945),c=l(7648),i=l(3145);let o=[{value:"",label:"All Categories"},{value:"PHOTOGRAPHY",label:"Photography"},{value:"CATERING",label:"Catering"},{value:"MUSIC",label:"Music & Entertainment"},{value:"VENUE",label:"Venues"},{value:"DECORATION",label:"Decoration"},{value:"CAKE",label:"Cakes & Desserts"},{value:"FLOWERS",label:"Flowers"},{value:"DRESS",label:"Dresses & Attire"},{value:"MAKEUP",label:"Makeup & Beauty"},{value:"TRANSPORTATION",label:"Transportation"},{value:"OTHER",label:"Other Services"}],d=[{value:"",label:"Any Price Range"},{value:"0-1000",label:"Under $1,000"},{value:"1000-2500",label:"$1,000 - $2,500"},{value:"2500-5000",label:"$2,500 - $5,000"},{value:"5000-10000",label:"$5,000 - $10,000"},{value:"10000+",label:"$10,000+"}];function h(){let e=(0,s.useSearchParams)(),a=(0,s.useRouter)(),[l,h]=(0,r.useState)([]),[u,m]=(0,r.useState)(!0),[x,v]=(0,r.useState)(e.get("category")||""),[g,p]=(0,r.useState)(e.get("location")||""),[b,f]=(0,r.useState)(e.get("price")||"");(0,r.useEffect)(()=>{(async()=>{m(!0);try{let e=new URLSearchParams;x&&e.set("category",x),g&&e.set("location",g),b&&e.set("price",b);let a=await fetch("/api/vendors?".concat(e.toString()));if(!a.ok)throw Error("Failed to fetch vendors");let l=await a.json();h(l.vendors)}catch(e){console.error("Error fetching vendors:",e),h([])}finally{m(!1)}})()},[x,g,b]);let j=(e,a)=>{let l=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0});return"".concat(l.format(e)," - ").concat(l.format(a))},N=e=>{let a=Math.floor(e),l=[];for(let e=0;e<a;e++)l.push((0,t.jsx)("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},"star-".concat(e)));e%1>=.5&&l.push((0,t.jsxs)("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:[(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"half-gradient",children:[(0,t.jsx)("stop",{offset:"50%",stopColor:"currentColor"}),(0,t.jsx)("stop",{offset:"50%",stopColor:"#D1D5DB"})]})}),(0,t.jsx)("path",{fill:"url(#half-gradient)",d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})]},"half-star"));let r=5-l.length;for(let e=0;e<r;e++)l.push((0,t.jsx)("svg",{className:"w-5 h-5 text-gray-300",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},"empty-star-".concat(e)));return(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex",children:l}),(0,t.jsxs)("span",{className:"ml-1 text-gray-600",children:["(",e.toFixed(1),")"]})]})};return(0,t.jsx)(n.Z,{children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-8 text-heading-primary",children:"Find Vendors"}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[(0,t.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"category",className:"block text-text-light mb-2",children:"Category"}),(0,t.jsx)("select",{id:"category",value:x,onChange:e=>v(e.target.value),className:"w-full border border-gray-300 rounded-md p-2",children:o.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"location",className:"block text-text-light mb-2",children:"Location"}),(0,t.jsx)("input",{id:"location",type:"text",value:g,onChange:e=>p(e.target.value),placeholder:"City, State",className:"w-full border border-gray-300 rounded-md p-2"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"priceRange",className:"block text-text-light mb-2",children:"Price Range"}),(0,t.jsx)("select",{id:"priceRange",value:b,onChange:e=>f(e.target.value),className:"w-full border border-gray-300 rounded-md p-2",children:d.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,t.jsx)("div",{className:"mt-6 text-center",children:(0,t.jsx)("button",{onClick:()=>{let e=new URLSearchParams;x&&e.set("category",x),g&&e.set("location",g),b&&e.set("price",b),a.push("/vendors?".concat(e.toString()))},className:"bg-cta-primary hover:bg-cta-hover text-white font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-300 hover:shadow-lg",children:"Search Vendors"})})]}),u?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-cta-primary"}),(0,t.jsx)("p",{className:"mt-2 text-text-light",children:"Loading vendors..."})]}):0===l.length?(0,t.jsxs)("div",{className:"text-center py-12 bg-white rounded-lg shadow-md",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-accent-dark mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsx)("h3",{className:"text-xl font-bold mb-2 text-heading-primary",children:"No vendors found"}),(0,t.jsx)("p",{className:"text-text-light mb-6",children:"Try adjusting your search criteria"}),(0,t.jsx)("button",{onClick:()=>{v(""),p(""),f(""),a.push("/vendors")},className:"text-cta-primary hover:underline",children:"Clear all filters"})]}):(0,t.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(e=>(0,t.jsxs)(c.default,{href:"/vendors/".concat(e.id),className:"bg-white rounded-lg shadow-md overflow-hidden transform transition-transform hover:scale-105",children:[(0,t.jsxs)("div",{className:"relative h-48",children:[(0,t.jsx)(i.default,{src:e.profileImg,alt:e.businessName,fill:!0,className:"object-cover"}),(0,t.jsx)("div",{className:"absolute top-0 right-0 bg-accent-light m-2 px-3 py-1 rounded-lg",children:(0,t.jsx)("span",{className:"text-xs font-bold text-heading-primary",children:e.category.replace("_"," ")})})]}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-heading-primary mb-1",children:e.businessName}),(0,t.jsx)("p",{className:"text-text-light mb-2",children:e.location}),(0,t.jsxs)("div",{className:"flex items-center mb-3",children:[(0,t.jsx)("div",{className:"flex mr-2",children:N(e.rating)}),(0,t.jsxs)("span",{className:"text-sm text-text-light",children:["(",e.rating.toFixed(1),")"]})]}),(0,t.jsx)("p",{className:"text-sm text-text-dark mb-3 line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-cta-primary font-medium",children:j(e.minPrice,e.maxPrice)}),(0,t.jsx)("span",{className:"text-cta-primary hover:underline",children:"View Details â†’"})]})]})]},e.id))})]})})}},9376:function(e,a,l){"use strict";var t=l(5475);l.o(t,"notFound")&&l.d(a,{notFound:function(){return t.notFound}}),l.o(t,"useRouter")&&l.d(a,{useRouter:function(){return t.useRouter}}),l.o(t,"useSearchParams")&&l.d(a,{useSearchParams:function(){return t.useSearchParams}})}},function(e){e.O(0,[605,648,145,945,971,117,744],function(){return e(e.s=2766)}),_N_E=e.O()}]);