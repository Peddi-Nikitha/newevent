(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[431],{7374:function(e,s,a){Promise.resolve().then(a.bind(a,6203))},6203:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return c}});var r=a(7437),n=a(2265),i=a(9376),l=a(6945),t=a(7648);function c(){let e=(0,i.useRouter)(),[s,a]=(0,n.useState)(1),[c,o]=(0,n.useState)({fullName:"",email:"",phone:"",password:"",confirmPassword:"",businessName:"",category:"PHOTOGRAPHY",location:"",description:"",minPrice:"",maxPrice:""}),[m,d]=(0,n.useState)(""),[u,h]=(0,n.useState)(!1),x=e=>{let{name:s,value:a}=e.target;o(e=>({...e,[s]:a}))},p=()=>{if(1===s){if(!c.fullName||!c.email||!c.phone||!c.password||!c.confirmPassword){d("All fields are required");return}if(c.password!==c.confirmPassword){d("Passwords do not match");return}if(c.password.length<8){d("Password must be at least 8 characters long");return}}d(""),a(2)},f=async s=>{if(s.preventDefault(),!c.businessName||!c.category||!c.location||!c.description){d("All fields are required");return}if(""===c.minPrice||""===c.maxPrice){d("Please enter your price range");return}let a=parseInt(c.minPrice),r=parseInt(c.maxPrice);if(isNaN(a)||isNaN(r)){d("Price must be a number");return}if(a>r){d("Minimum price cannot be greater than maximum price");return}try{h(!0),d("");let s=await fetch("/api/register/vendor",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fullName:c.fullName,email:c.email,phone:c.phone,password:c.password,businessName:c.businessName,category:c.category,location:c.location,description:c.description,minPrice:parseInt(c.minPrice),maxPrice:parseInt(c.maxPrice)})}),a=await s.json();if(!s.ok)throw Error(a.message||"Registration failed");e.push("/login?registered=true&vendor=true")}catch(e){d(e.message||"Registration failed. Please try again."),h(!1)}};return(0,r.jsx)(l.Z,{children:(0,r.jsx)("div",{className:"container mx-auto py-16 px-4",children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-center mb-8",children:"Become a Vendor"}),(0,r.jsx)("div",{className:"flex justify-center mb-8",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"rounded-full h-10 w-10 flex items-center justify-center ".concat(1===s?"bg-accent text-white":"bg-gray-200"),children:"1"}),(0,r.jsx)("div",{className:"h-1 w-20 bg-gray-200 mx-2"}),(0,r.jsx)("div",{className:"rounded-full h-10 w-10 flex items-center justify-center ".concat(2===s?"bg-accent text-white":"bg-gray-200"),children:"2"})]})}),m&&(0,r.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",role:"alert",children:(0,r.jsx)("span",{className:"block sm:inline",children:m})}),(0,r.jsxs)("form",{onSubmit:1===s?e=>{e.preventDefault(),p()}:f,className:"bg-white shadow-md rounded-lg p-8",children:[1===s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Personal Information"}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"fullName",className:"form-label",children:"Full Name"}),(0,r.jsx)("input",{type:"text",id:"fullName",name:"fullName",value:c.fullName,onChange:x,className:"form-input",placeholder:"John Doe",required:!0})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),(0,r.jsx)("input",{type:"email",id:"email",name:"email",value:c.email,onChange:x,className:"form-input",placeholder:"you@example.com",required:!0})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"phone",className:"form-label",children:"Phone Number"}),(0,r.jsx)("input",{type:"tel",id:"phone",name:"phone",value:c.phone,onChange:x,className:"form-input",placeholder:"+1 (123) 456-7890",required:!0})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),(0,r.jsx)("input",{type:"password",id:"password",name:"password",value:c.password,onChange:x,className:"form-input",placeholder:"••••••••",required:!0,minLength:8}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Must be at least 8 characters"})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirm Password"}),(0,r.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:c.confirmPassword,onChange:x,className:"form-input",placeholder:"••••••••",required:!0})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)("button",{type:"submit",className:"btn btn-primary py-3 px-6",children:"Next Step"})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Business Information"}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"businessName",className:"form-label",children:"Business Name"}),(0,r.jsx)("input",{type:"text",id:"businessName",name:"businessName",value:c.businessName,onChange:x,className:"form-input",placeholder:"Your Business Name",required:!0})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"category",className:"form-label",children:"Business Category"}),(0,r.jsxs)("select",{id:"category",name:"category",value:c.category,onChange:x,className:"form-input",required:!0,children:[(0,r.jsx)("option",{value:"PHOTOGRAPHY",children:"Photography"}),(0,r.jsx)("option",{value:"CATERING",children:"Catering"}),(0,r.jsx)("option",{value:"MUSIC",children:"Music & Entertainment"}),(0,r.jsx)("option",{value:"VENUE",children:"Venue"}),(0,r.jsx)("option",{value:"DECORATION",children:"Decoration"}),(0,r.jsx)("option",{value:"CAKE",children:"Cakes & Desserts"}),(0,r.jsx)("option",{value:"FLOWERS",children:"Flowers"}),(0,r.jsx)("option",{value:"DRESS",children:"Attire & Clothing"}),(0,r.jsx)("option",{value:"MAKEUP",children:"Hair & Makeup"}),(0,r.jsx)("option",{value:"TRANSPORTATION",children:"Transportation"}),(0,r.jsx)("option",{value:"OTHER",children:"Other"})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"location",className:"form-label",children:"Location"}),(0,r.jsx)("input",{type:"text",id:"location",name:"location",value:c.location,onChange:x,className:"form-input",placeholder:"City, State",required:!0})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"description",className:"form-label",children:"Business Description"}),(0,r.jsx)("textarea",{id:"description",name:"description",value:c.description,onChange:x,className:"form-input h-32",placeholder:"Describe your services, experience, and what makes your business unique...",required:!0})]}),(0,r.jsxs)("div",{className:"flex mb-6 space-x-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("label",{htmlFor:"minPrice",className:"form-label",children:"Minimum Price ($)"}),(0,r.jsx)("input",{type:"number",id:"minPrice",name:"minPrice",value:c.minPrice,onChange:x,className:"form-input",placeholder:"0",min:"0",required:!0})]}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("label",{htmlFor:"maxPrice",className:"form-label",children:"Maximum Price ($)"}),(0,r.jsx)("input",{type:"number",id:"maxPrice",name:"maxPrice",value:c.maxPrice,onChange:x,className:"form-input",placeholder:"1000",min:"0",required:!0})]})]}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"termsCheck",className:"mr-2",required:!0}),(0,r.jsxs)("label",{htmlFor:"termsCheck",className:"text-sm text-gray-600",children:["I agree to the ",(0,r.jsx)(t.default,{href:"/terms",className:"text-accent hover:underline",children:"Terms of Service"})," and ",(0,r.jsx)(t.default,{href:"/privacy",className:"text-accent hover:underline",children:"Privacy Policy"})]})]})}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("button",{type:"button",onClick:()=>{a(1)},className:"btn btn-secondary py-3 px-6",children:"Back"}),(0,r.jsx)("button",{type:"submit",className:"btn btn-primary py-3 px-6 ".concat(u?"opacity-70 cursor-not-allowed":""),disabled:u,children:u?"Creating Account...":"Complete Registration"})]})]}),(0,r.jsx)("div",{className:"text-center mt-6",children:(0,r.jsxs)("p",{className:"text-gray-600",children:["Already have an account?"," ",(0,r.jsx)(t.default,{href:"/login",className:"text-accent hover:underline",children:"Log In"})]})})]})]})})})}},9376:function(e,s,a){"use strict";var r=a(5475);a.o(r,"notFound")&&a.d(s,{notFound:function(){return r.notFound}}),a.o(r,"useRouter")&&a.d(s,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(s,{useSearchParams:function(){return r.useSearchParams}})}},function(e){e.O(0,[605,648,945,971,117,744],function(){return e(e.s=7374)}),_N_E=e.O()}]);